<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mapas</title>

    <script src="https://code.highcharts.com/maps/highmaps.js"></script>
    <script src="https://code.highcharts.com/maps/modules/data.js"></script>
    <script src="https://code.highcharts.com/maps/modules/data.js"></script>
    <script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/maps/modules/offline-exporting.js"></script>
    <style>
      #container {
        height: 800px;
        min-width: 310px;
        max-width: 800px;
        margin: 0 auto;
      }
      .loading {
        margin-top: 10em;
        text-align: center;
        color: gray;
      }
    </style>
  </head>
  <body>
    <div id="container"></div>

    <script>
      // Prepare random data

      var data_bairros = [
        ["Bodocongo", 12],
        ["Palmeira", 7],
        ["Monte Santo", 5],
        ["Liberdade", 5],
        ["Malvinas", 4],
        ["Cruzeiro", 4],
        ["Jardim Paulistano", 3],
        ["Sao Jose Da Mata", 3],
        ["Jose Pinheiro", 2],
        ["Ramadinha I", 2],
        ["Prata", 2],
        ["São Jose Da Mata", 2],
        ["Catole", 2],
        ["Castelo Branco", 2],
        ["Dinamerica", 2],
        ["Santa Cruz", 2],
        ["Catingueira", 1],
        ["Chico Mendes", 1],
        ["Bela Vista", 1],
        ["São José", 1],
        ["Novo Horizonte", 1],
        ["Rosa Cruz", 1],
        ["Vila Cabral", 1],
        ["Ressurreição", 1],
        ["Cinza", 1],
        ["Ligeiro", 1],
        ["Santa Rosa", 1],
        ["Presidente Medici", 1],
        ["Tambor", 1],
        ["Jardim Tavares", 1],
        ["Centro", 1],
        ["Centenario", 1],
        ["Monte Castelo", 1],
        ["Quarenta", 1],
        ["Mutirão", 1],
      ];

      let url = "./dados/CG_GEO_JSON.json";
      Highcharts.getJSON(url, function (geojson) {
        // Initiate the chart

        Highcharts.mapChart("container", {
          chart: {
            map: geojson,
          },

          colors: ['rgba(19,64,117,0.05)', 'rgba(19,64,117,0.2)', 'rgba(19,64,117,0.4)',
        'rgba(19,64,117,0.5)', 'rgba(19,64,117,0.6)', 'rgba(19,64,117,0.8)', 'rgba(19,64,117,1)'],

          title: {
            text: "Alcance Municipal",
          },

          mapNavigation: {
            enabled: true,
            enableDoubleClickZoom: true,
            enableMouseWheelZoom: true,
          },

          colorAxis: {
            tickPixelInterval: 900,
          },

          series: [
            {
              data: data_bairros,
              keys: ["NM_BAIRRO", "value"],
              joinBy: "NM_BAIRRO",
              name: "Município",
              states: {
                hover: {
                  color: "#a4edba",
                },
              },
              dataLabels: {
                enabled: true,
                color: "#FFFFFF",
                formatter: function () {
                  if (this.point.value) {
                    console.log(this.point);
                    return this.point.NM_BAIRRO;
                  }
                  return "";
                },
              },
            },
          ],
        }).mapZoom(2);
      });
    </script>
  </body>
</html>
