<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mapas</title>

    <script src="https://code.highcharts.com/maps/highmaps.js"></script>
    <script src="https://code.highcharts.com/maps/modules/data.js"></script>
    <script src="https://code.highcharts.com/maps/modules/data.js"></script>
    <script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/maps/modules/offline-exporting.js"></script>
    <style>
      #container {
        height: 800px;
        min-width: 310px;
        max-width: 800px;
        margin: 0 auto;
      }
      .loading {
        margin-top: 10em;
        text-align: center;
        color: gray;
      }
    </style>
  </head>
  <body>
    <div id="container"></div>

    <script>
      // Prepare random data
      var data = [
        ["Campina Grande", 78, "#67d33d"],
        ["Esperança", 4, "#84db5f"],
        ["Queimadas", 3, "#b2e897"],
        ["Mogeiro", 2, "#d3f2c1"],
        ["Boqueirão", 2, "#d3f2c1"],
        ["Areial", 2, "#d3f2c1"],
        ["Lagoa De Roça", 2, "#d3f2c1"],
        ["Santa Cecilia", 2, "#d3f2c1"],
        ["Taperoa", 1, "#eaf9e1"],
        ["Alcantil", 1, "#eaf9e1"],
        ["Soledade", 1, "#eaf9e1"],
        ["Barauna", 1, "#eaf9e1"],
        ["Gurjão", 1, "#eaf9e1"],
      ];

      let url =
        "https://raw.githubusercontent.com/tbrugz/geodata-br/master/geojson/geojs-25-mun.json";
      Highcharts.getJSON(url, function (geojson) {
        // Initiate the chart
        Highcharts.mapChart("container", {
          chart: {
            map: geojson,
          },

          title: {
            text: "Alcance Municipal",
          },

          mapNavigation: {
            enabled: true,
            enableDoubleClickZoom: true,
            enableMouseWheelZoom: true
          },

          colorAxis: {
            tickPixelInterval: 900,
          },

          series: [
            {
              data: data,
              keys: ["name", "value", "color"],
              joinBy: "name",
              name: "Município",
              states: {
                hover: {
                  color: "#a4edba",
                },
              },
              dataLabels: {
                enabled: true,
                color: "#FFFFFF",
                formatter: function () {
                  if (this.point.value) {
                    console.log(this.point);
                    return this.point.name;
                  }
                  return "";
                },
              },
            },
          ],
        }).mapZoom(2);
      });
    </script>
  </body>
</html>
