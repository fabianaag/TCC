<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Visualização 01</title>
    <script src="https://code.highcharts.com/highcharts.js"></script>
  </head>
  <body>
    <div id="container" style="width: 100%; height: 400px;"></div>
    <div id="hist_age"></div>

    <div id="negative_stack"></div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var myChart = Highcharts.chart("container", {
          chart: {
            type: "bar",
          },
          title: {
            text: "Distribuição por Sexo",
          },
          xAxis: {
            categories: ["Homens", "Mulheres"],
          },
          yAxis: {
            title: {
              text: "Distribuição por Sexo",
            },
          },
          series: [
            {
              name: "Homens",
              data: [38],
            },
            {
              name: "Mulheres",
              data: [62],
            },
          ],
        });

        Highcharts.chart("hist_age", {
          chart: {
            type: "area",
          },
          title: {
            text: "Quantidade de alunos por faixa etária",
          },
          /**subtitle: {
          text: 'Source: Wikipedia.org'
        },**/
          xAxis: {
            categories: [
              18,
              19,
              20,
              21,
              22,
              23,
              24,
              25,
              26,
              27,
              28,
              29,
              30,
              31,
              32,
              33,
              34,
              35,
              36,
              37,
              38,
              39,
              40,
              41,
              42,
              43,
              44,
              45,
              46,
              47,
              48,
              49,
              50,
              51,
              52,
              53,
              54,
              55,
              56,
              57,
              58,
              59,
              60,
            ],
            tickmarkPlacement: "on",
            title: {
              enabled: false,
            },
          },
          yAxis: {
            title: {
              text: "Quantidade de alunos",
            },
          },
          tooltip: {
            split: true,
            valueSuffix: " alunos",
          },
          plotOptions: {
            area: {
              stacking: "normal",
              lineColor: "#666666",
              lineWidth: 1,
              marker: {
                lineWidth: 1,
                lineColor: "#666666",
              },
            },
          },
          series: [
            {
              name: "Alunos",
              data: [
                8,
                11,
                12,
                10,
                6,
                7,
                12,
                2,
                2,
                2,
                6,
                1,
                1,
                2,
                1,
                2,
                2,
                1,
                1,
                1,
                2,
                1,
                2,
                3,
                1,
                1,
              ],
            },
          ],
        });
      });

      // Data gathered from http://populationpyramid.net/germany/2015/

      // Age categories
      var categories = [
        "18 a 20",
        "21 a 29",
        "30 a 39",
        "40 a 49",
        "Acima de 50 anos",
      ];

      Highcharts.chart("negative_stack", {
        chart: {
          type: "bar",
        },
        title: {
          text: "Distribuição de alunos por idade e sexo",
        },
        xAxis: [
          {
            categories: categories,
            reversed: false,
            labels: {
              step: 1,
            },
          },
          {
            // mirror axis on right side
            opposite: true,
            reversed: false,
            categories: categories,
            linkedTo: 0,
            labels: {
              step: 1,
            },
            accessibility: {
              description: "Age (female)",
            },
          },
        ],
        yAxis: {
          title: {
            text: null,
          },
          labels: {
            formatter: function () {
              return Math.abs(this.value);
            },
          },
        },

        plotOptions: {
          series: {
            stacking: "normal",
          },
        },

        tooltip: {
          formatter: function () {

            return `
              <b>Faixa etária: ${this.point.category}</b>
              <br/>
              Quantidades de alunos (${this.series.name}): ${Math.abs(this.point.y)}
            `
          },
        },

        series: [
          {
            name: "Homens",
            data: [-5, -30, -7, -1, -1]
          },
          {
            name: "Mulheres",
            data: [10, 42, 4, 3, 0],
          },
        ],
      });
    </script>
  </body>
</html>
